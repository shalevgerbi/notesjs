<!DOCTYPE html>
<html>
  <head>
    <title>Pitch Detector</title>
    <link
      href="http://fonts.googleapis.com/css?family=Alike"
      rel="stylesheet"
      type="text/css"
    />
    <link rel="stylesheet" href="./style.css" />
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"> </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body id="root">
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.min.js"></script>
    <!-- <script type='text/javascript' src='./node_modules/tone/build/Tone.js'></script> -->
	  <script src="./node_modules/music-tempo/dist/browser/music-tempo.js"></script>
    <script src="server.js" defer> </script>
    <!-- <script src="../node_modules/midi-writer-js" defer></script> -->
    <!-- <script src="midi.js" type="module"></script> -->
	  <script src="pitchdetect.js"></script>
	  <!-- <script src="midi.js"></script> -->
    <!-- <button onclick="playMidi()">Hello</button> -->

    <div class="tempo-controls">
          <button id="play-button" class="" onclick="togglePlay()">
            <i id='icon-play-pause'class="fa fa-play"></i>
          </button>
        <button class="tempo-change" data-change="-1">-</button>

        <div class="tempo-container">
            <div id="tempo">120</div>
            <div class="bpm">bpm</div>
        </div>

        <button class="tempo-change" data-change="+1">+</button>
    </div>
	<div class="gridItem">
    <div class="center">
      <div id="detector" class="vague">
        <!--HZ-->
        <div class="pitch">
          <span id="pitch">--</span>
          Hz
        </div>
        <div class="note"><span id="note">--</span></div>
        <canvas id="output" width="300" height="42"></canvas>
        <div id="detune">
          <span id="detune_amt">--</span>
          <span id="flat">cents &#9837;</span>
          <span id="sharp">cents &#9839;</span>
        </div>
      </div>
    </div>
	
    
    <div class="center">
      <canvas id="waveform" width="512" height="256"></canvas>
    </div>
	<div class="center">
		<div id="buttons">
		  <button id="live" onclick="this.innerText = startPitchDetect();">Start</button>
		  <button onclick="this.innerText = togglePlayback()">use demo audio</button>
		  <button onclick="toggleLiveInput()">use live input</button>
		  <button onclick="toggleOscillator()">use oscillator</button>
		</div>
	  </div>
</div>
    <div class="center">
      <div class="notes-container">
        <div class="lines-container">
          <img class="GClefsvg" src="./img/staff/G-clef.svg" alt="GClef" />
          <img class="line" src="./img/staff/VerticalLine.svg" alt="Vertical Line" />
          <img class="line" src="./img/staff/VerticalLine.svg" alt="Vertical Line" />
          <img class="line" src="./img/staff/VerticalLine.svg" alt="Vertical Line" />
          <img class="line" src="./img/staff/VerticalLine.svg" alt="Vertical Line" />
          <img class="line" src="./img/staff/VerticalLine.svg" alt="Vertical Line" />
          <div id="containerQuarter0">
		      </div>
        </div>
        <div class="lines-container">
          <img class="FClefsvg" src="./img/staff/FClef.svg" alt="FClef" />
          <img class="line" src="./img/staff/VerticalLine.svg" alt="Vertical Line" />
          <img class="line" src="./img/staff/VerticalLine.svg" alt="Vertical Line" />
          <img class="line" src="./img/staff/VerticalLine.svg" alt="Vertical Line" />
          <img class="line" src="./img/staff/VerticalLine.svg" alt="Vertical Line" />
          <img class="line" src="./img/staff/VerticalLine.svg" alt="Vertical Line" />
          
          
        </div>
        <input type='file' accept='image/*' onchange='openFile(event)'><br>
          <img id='outputimg' style="height:149px; width:833px;">
      </div>
    </div>
  </body>
</html>
